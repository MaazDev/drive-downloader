<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
    <head>
        <meta charset="utf-8" />
        <title>Google Picker Example</title>
        <script src="GooglePicker.js"></script>
    </head>

    <body>
        <div id="result"></div>
        <script>
            const picker = new GooglePicker(pickerCallback);

            /**
             * Initialize the picker will be called per the SDK
             */
            function loadPicker() {
                gapi.load('auth', {'callback': picker.onAuthApiLoad});
                gapi.load('auth', {'callback': picker.onPickerApiLoad});
            }

            function pickerCallback (data) {
                if (data.action === google.picker.Action.PICKED) {
                    const fileId = data.docs[0].id;
                    alert('The user selected: ' + fileId);
                }
            }
        </script>
        <!-- The Google API Loader script. -->
        <script type="text/javascript" src="https://apis.google.com/js/api.js?onload=loadPicker"></script>
    </body>
</html>
